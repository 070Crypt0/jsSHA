(function() {/*
 A JavaScript implementation of the SHA family of hashes, as defined in FIPS
 PUB 180-2 as well as the corresponding HMAC implementation as defined in
 FIPS PUB 198a

 Copyright Brian Turek 2008-2012
 Distributed under the BSD License
 See http://caligatio.github.com/jsSHA/ for more information

 Several functions taken from Paul Johnson
*/
function k(b){throw b;}function n(b,d){var a=[],f=(1<<d)-1,c=b.length*d,e;for(e=0;e<c;e+=d)a[e>>>5]|=(b.charCodeAt(e/d)&f)<<32-d-e%32;return a}function q(b){var d=[],a=b.length,f,c;for(f=0;f<a;f+=2)c=parseInt(b.substr(f,2),16),isNaN(c)&&k("String of HEX type contains invalid characters"),d[f>>>3]|=c<<24-4*(f%8);return d}
function r(b,d){var a="",f=4*b.length,c,e;for(c=0;c<f;c+=1)e=b[c>>>2]>>>8*(3-c%4),a+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(e&15);return d.outputUpper?a.toUpperCase():a}
function t(b,d){var a="",f=4*b.length,c,e,i;for(c=0;c<f;c+=3){i=(b[c>>>2]>>>8*(3-c%4)&255)<<16|(b[c+1>>>2]>>>8*(3-(c+1)%4)&255)<<8|b[c+2>>>2]>>>8*(3-(c+2)%4)&255;for(e=0;4>e;e+=1)a=8*c+6*e<=32*b.length?a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-e)&63):a+d.b64Pad}return a}
function u(b){var d={outputUpper:!1,b64Pad:"="};try{b.hasOwnProperty("outputUpper")&&(d.outputUpper=b.outputUpper),b.hasOwnProperty("b64Pad")&&(d.b64Pad=b.b64Pad)}catch(a){}"boolean"!==typeof d.outputUpper&&k("Invalid outputUpper formatting option");"string"!==typeof d.b64Pad&&k("Invalid b64Pad formatting option");return d}function v(b,d){var a=(b&65535)+(d&65535);return((b>>>16)+(d>>>16)+(a>>>16)&65535)<<16|a&65535}
function w(b,d,a,f,c){var e=(b&65535)+(d&65535)+(a&65535)+(f&65535)+(c&65535);return((b>>>16)+(d>>>16)+(a>>>16)+(f>>>16)+(c>>>16)+(e>>>16)&65535)<<16|e&65535}
function x(b,d){var a=[],f,c,e,i,m,y,o,g,s,h=[1732584193,4023233417,2562383102,271733878,3285377520],j=[1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,
1859775393,1859775393,1859775393,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782];b[d>>>5]|=128<<24-d%32;b[(d+
65>>>9<<4)+15]=d;s=b.length;for(o=0;o<s;o+=16){f=h[0];c=h[1];e=h[2];i=h[3];m=h[4];for(g=0;80>g;g+=1)a[g]=16>g?b[g+o]:(a[g-3]^a[g-8]^a[g-14]^a[g-16])<<1|(a[g-3]^a[g-8]^a[g-14]^a[g-16])>>>31,y=20>g?w(f<<5|f>>>27,c&e^~c&i,m,j[g],a[g]):40>g?w(f<<5|f>>>27,c^e^i,m,j[g],a[g]):60>g?w(f<<5|f>>>27,c&e^c&i^e&i,m,j[g],a[g]):w(f<<5|f>>>27,c^e^i,m,j[g],a[g]),m=i,i=e,e=c<<30|c>>>2,c=f,f=y;h[0]=v(f,h[0]);h[1]=v(c,h[1]);h[2]=v(e,h[2]);h[3]=v(i,h[3]);h[4]=v(m,h[4])}return h}
window.jsSHA=function(b,d,a){var f=null,c=0,e=[0],i=0,i="undefined"!==typeof a?a:8;8===i||16===i||k("charSize must be 8 or 16");"HEX"===d?(0!==b.length%2&&k("srcString of HEX type must be in byte increments"),c=4*b.length,e=q(b)):"ASCII"===d||"TEXT"===d?(c=b.length*i,e=n(b,i)):k("inputFormat must be HEX, TEXT, or ASCII");this.getHash=function(b,a,d){var g=null,i=e.slice(),h="";switch(a){case "HEX":g=r;break;case "B64":g=t;break;default:k("format must be HEX or B64")}if("SHA-1"===b){null===f&&(f=x(i,
c));h=g(f,u(d))}else k("Chosen SHA variant is not supported");return h};this.getHMAC=function(b,a,d,f,s){var h,j,l,z,p,A,B=[],C=[];switch(f){case "HEX":h=r;break;case "B64":h=t;break;default:k("outputFormat must be HEX or B64")}if("SHA-1"===d){l=64;A=160}else k("Chosen SHA variant is not supported");if("HEX"===a){0!==b.length%2&&k("key of HEX type must be in byte increments");j=q(b);p=b.length*4}else if("ASCII"===a||"TEXT"===a){j=n(b,i);p=b.length*i}else k("inputFormat must be HEX, TEXT or ASCII");
b=l*8;a=l/4-1;if(l<p/8){"SHA-1"===d?j=x(j,p):k("Unexpected error in HMAC implementation");j[a]=j[a]&4294967040}else l>p/8&&(j[a]=j[a]&4294967040);for(l=0;l<=a;l=l+1){B[l]=j[l]^909522486;C[l]=j[l]^1549556828}"SHA-1"===d?z=x(C.concat(x(B.concat(e),b+c)),b+A):k("Unexpected error in HMAC implementation");return h(z,u(s))}};})();
